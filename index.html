<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Мини-приложение для рыбалки</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f2f2f2;
            color: #333;
            padding: 20px;
        }
        .button {
            background-color: #4CAF50; /* Green */
            color: white;
            padding: 15px 32px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            margin: 4px 2px;
            cursor: pointer;
            border-radius: 4px;
        }
        input, select {
            margin: 10px 0;
            padding: 8px;
            width: 100%;
            max-width: 300px;
        }
        .file-input {
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <h1>Рыбалка на сегодня!</h1>
    
    <label for="category">Выберите категорию:</label>
    <select id="category">
        <option value="Фарм">Фарм</option>
        <option value="Трофей">Трофей</option>
        <option value="Уникальное">Уникальное</option>
    </select>

    <label for="lake">Выберите водоём:</label>
    <select id="lake" onchange="updateFishList(); updateButtonText();">
        <option value="Лосиное">Лосиное</option>
        <option value="Комариное">Комариное</option>
        <option value="Вьюнок">Вьюнок</option>
        <option value="Белая">Белая</option>
        <option value="Острог">Острог</option>
        <option value="Куори">Куори</option>
        <option value="Медвежье">Медвежье</option>
        <option value="Волхов">Волхов</option>
        <option value="Донец">Донец</option>
        <option value="Сура">Сура</option>
        <option value="Ладожское">Ладожское</option>
        <option value="Архипелаг">Архипелаг</option>
        <option value="Янтарное">Янтарное</option>
        <option value="Ахтуба">Ахтуба</option>
        <option value="Медное">Медное</option>
        <option value="Тунгуска">Тунгуска</option>
        <option value="Яма">Яма</option>
        <option value="Норвежское море">Норвежское море</option>
    </select>

    <label for="fish">Выберите рыбу:</label>
    <select id="fish">
        <!-- Список рыб будет обновляться динамически -->
    </select>

    <label for="coordinates">Координаты (например, 50.1234:30.5678):</label>
    <input type="text" id="coordinates">

    <label for="depth">Глубина:</label>
    <input type="text" id="depth">

    <label for="clips">Клипса:</label>
    <input type="text" id="clips">

    <label for="speed">Скорость:</label>
    <input type="text" id="speed">

    <label for="square">Квадрат:</label>
    <input type="text" id="square">

    <label for="comment">Комментарий:</label>
    <input type="text" id="comment">

    <button class="button" id="publishButton" onclick="sendDataToTelegram()">Отправить данные в Telegram</button>

    <script>
        const fishByWater = {
            "Лосиное": [
        "Вармоус", "Горбыль речной", "Доросома северная", "Краппи белый", "Краппи чёрный", 
        "Лаврак полосатый", "Лаврак полосатый гибрид", "Окунь белый", "Окунь большеротый", 
        "Окунь малоротый", "Окунь павлиний", "Окунь пятнистый", "Панцирник пятнистый", 
        "Солнечник красноухий", "Солнечник синежаберный", "Сомик канальный", "Сомик оливковый", 
        "Судак светлопёрый", "Щука панцирная"
    ],
    "Комариное": [
        "Вьюн", "Голавль", "Густера", "Ёрш", "Карась золотой", "Карась серебряный", 
        "Карп зеркальный", "Карп Кои Мидори-гои", "Карп чешуйчатый", "Лещ", "Линь", 
        "Линь золотистый", "Лягушка", "Окунь", "Плотва обыкновенная", "Ротан", "Сом", 
        "Уклейка", "Щука обыкновенная", "Язь"
    ],
    "Вьюнок": [
        "Разнорыбица", "Белоглазка", "Берш", "Голавль", "Густера", "Дрейссена речная", 
        "Елец", "Ёрш", "Ёрш-носарь", "Жерех", "Карась золотой", "Карась серебряный", 
        "Карп чешуйчатый", "Лещ", "Линь", "Лягушка", "Налим", "Окунь", "Перловица", 
        "Пескарь обыкновенный", "Плотва обыкновенная", "Подуст", "Рак речной", "Ротан", 
        "Синец", "Сом", "Судак", "Уклейка", "Щука обыкновенная", "Язь"
    ],
    "Белая": [
        "Разнорыбица", "Белоглазка", "Голавль", "Густера", "Елец", "Ёрш", "Жерех", 
        "Карась золотой", "Карась серебрянный", "Карп чешуйчатый", "Лещ", "Лягушка", 
        "Налим", "Окунь", "Перловица", "Пескарь обыкновенный", "Плотва обыкновенная", 
        "Подуст", "Рак речной", "Сиг-пыжьян", "Сом", "Стерлядь", "Судак", "Таймень", 
        "Уклейка", "Форель ручьевая", "Хариус европейский", "Хариус западносибирский", 
        "Щука обыкновенная", "Язь"
    ],
    "Острог": [
        "Разнорыбица", "Амур белый", "Амур чёрный", "Голавль", "Густера", "Ёрш", 
        "Карась золотой", "Карась серебряный", "Карп чешуйчатый", "Лещ", "Линь", 
        "Лягушка", "Налим", "Окунь", "Плотва обыкновенная", "Ротан", "Сиг острожский", 
        "Сом", "Угорь", "Уклейка", "Щука обыкновенная", "Язь"
    ],
    "Куори": [
        "Разнорыбица", "Голец арктический", "Голец Куорский", "Гольян", "Густера", "Ёрш", 
        "Карась золотой", "Карась серебряный", "Карп чешуйчатый", "Лещ", "Лягушка", 
        "Налим", "Окунь", "Палия обыкновенная", "Пелядь", "Плотва обыкновенная", "Ряпушка", 
        "Сиг куорский", "Форель озёрная", "Форель радужная", "Форель ручьевая", 
        "Форель севанская", "Хариус европейский", "Щука обыкновенная", "Язь"
    ],
    "Медвежье": [
        "Разнорыбица", "Амур белый", "Амур белый альбинос", "Амур чёрный", "Голавль", 
        "Густера", "Ёрш", "Карась золотой", "Карась серебряный", "Карп голый", 
        "Карп зеркальный", "Карп чешуйчатый", "Лещ", "Линь", "Линь золотистый", 
        "Лягушка", "Налим", "Окунь", "Перловица", "Плотва обыкновенная", "Ротан", 
        "Уклейка", "Усач альбинос", "Усач обыкновенный", "Щука обыкновенная", "Язь"
    ],
    "Волхов": [
        "Разнорыбица", "Белоглазка", "Голавль", "Густера", "Дрейссена речная", "Елец", 
        "Ёрш", "Жерех", "Карась золотой", "Карась серебряный", "Карп чешуйчатый", 
        "Лещ", "Линь", "Лосось атлантический", "лосось ладожский", "Лягушка", "Налим", 
        "Окунь", "Перловица", "Пескарь обыкновенный", "Плотва обыкновенная", "Подуст", 
        "Рак речной", "Ротан", "Рыбец", "Ряпушка", "Синец", "Сом", "Судак", "Угорь", 
        "Уклейка", "Щука обыкновенная", "Язь"
    ],
    "Донец": [
        "Разнорыбица", "Амур белый", "Белоглазка", "Белуга черноморская", "Берш", "Вырезуб", 
        "Голавль", "Густера", "Дрейссена речная", "Елец", "Ёрш", "Ёрш-носарь", "Жерех", 
        "Карась золотой", "Карась серебряный", "Карп чешуйчатый", "Краснопёрка", "Лещ", 
        "Линь", "Лягушка", "Минога Украинская", "Налим", "Окунь", "Окунь солнечный", 
        "Осётр Русский", "Перловица", "Пескарь обыкновенный", "Плотва обыкновенная", 
        "Подуст", "Рак речной", "Сазан", "Сельдь черноморская", "Уклейка", "Чехонь", 
        "Шемая черноморская", "Щука обыкновенная", "Язь"
    ],
    "Сура": [
        "Разнорыбица", "Белоглазка", "Берш", "Голавль", "Густера", "Дрейссена речная", 
        "Елец", "Ёрш", "Жерех", "Карась золотой", "Карась серебряный", "Карп чешуйчатый", 
        "Краснопёрка", "Лещ", "Линь", "Лягушка", "Налим", "Окунь", "Осётр Русский", 
        "Перловица", "Пескарь обыкновенный", "Плотва обыкновенная", "Подуст", "Рак речной", 
        "Ротан", "Рыбец", "Сазан", "Синец", "Сом", "Стерлядь", "Судак", "Толстолобик белый", 
        "толстолобик пёстрый", "Угорь", "Уклейка", "Чехонь", "Щука обыкновенная", "Язь"
    ],
"Ладожское": [
        "Разнорыбица", "Белоглазка", "Голавль", "Гольян", "Густера", "Елец", "Ёрш", 
        "Карась золотой", "Карась серебряный", "Карп чешуйчатый", "Колюшка трёхиглая", 
        "Корюшка", "Лещ", "Лосось атлантический", "Лосось ладожский", "Лягушка", 
        "Налим", "Окунь", "Осётр балтийский", "Палия обыкновенная", "Плотва обыкновенная", 
        "Рипус", "Рыбец", "Ряпушка", "Сиг Валаамский", "Сиг Волховский", "Сиг Вуоксинский", 
        "Сиг-Лудога", "Синец", "Сом", "Судак", "Угорь", "Уклейка", "Форель озёрная", 
        "Хариус европейский", "Щука обыкновенная", "Язь"
    ],
    "Архипелаг": [
        "Разнорыбица", "Белоглазка", "Голавль", "Гольян", "Густера", "Елец", "Ёрш", 
        "Карась золотой", "Карась серебряный", "Карп чешуйчатый", "Колюшка трёхиглая", 
        "Корюшка", "Лещ", "Лосось атлантический", "Лосось ладожский", "Налим", "Окунь", 
        "омуль Байкальский", "Осётр Балтийский", "Осётр Ладожский", "Палия кряжевая", 
        "Палия лудожная", "Палия обыкновенная", "Рыбец", "Ряпушка", "Сиг Валаамский", 
        "Сиг Волховский", "Сиг Вуоксинский", "Сиг Ладожский озёрный", "Сиг Свирский", 
        "Сиг чёрный", "Сиг-Лудога", "Синец", "Сом", "Судак", "Угорь", "Уклейка", "Форель озёрная", 
        "Хариус европейский", "Щука обыкновенная", "Язь"
    ],
    "Янтарное": [
        "Разнорыбица", "Амур белый", "Голавль", "Густера", "Ёрш", "Карась золотой", 
        "Карась серебряный", "Карп голый", "Карп голый - альбинос", "Карп голый - призрак", 
        "Карп зеркальный", "Карп зеркальный - альбинос", "Карп зеркальный - призрак", 
        "Карп красный Старвас - зеркальный", "Карп красный Старвас - чешуйчатый", "Карп линейный", 
        "Карп линейный - альбинос", "Карп линейный - призрак", "Карп рамчатый", 
        "Карп рамчатый - альбинос", "Карп рамчатый - призрак", "Карп чешуйчатый", 
        "Карп чешуйчатый - альбинос", "Карп чешуйчатый - призрак", "Лещ", "Линь", "Лягушка", 
        "Налим", "Окунь", "Плотва обыкновенная", "Ротан", "Сом", "Угорь", "Уклейка", 
        "Усач обыкновенный", "Щука обыкновенная", "Язь"
    ],
    "Ахтуба": [
        "Разнорыбица", "Амур белый", "Белоглазка", "Белорыбица", "Белуга каспийская", 
        "Буффало большеротый", "Буффало чёрный", "Вобла", "Вьюн", "Голавль", "Густера", 
        "Дрейссена речная", "Елец", "Ёрш", "Жерех", "Карась золотой", "Карась серебряный", 
        "Карп чешуйчатый", "Колюшка малая южная", "Краснопёрка", "Кутум", "Лещ", "Лещ восточный", 
        "Линь", "Лосось каспийский", "Лягушка", "Минога каспийская", "Налим", "Окунь", 
        "Осётр Персидский", "Осётр Русский", "Перловица", "Пескарь обыкновенный", 
        "Плотва обыкновенная", "Подуст", "Пузанок каспийский", "Рак речной", "Сазан", "Севрюга", 
        "Сельдь Бражникова", "Сельдь Кесслера", "Синец", "Сом", "Сом альбинос", "Стерлядь", 
        "Судак", "Толстолобик белый", "Толстолобик пёстрый", "Уклейка", "Усач короткоголовый", 
        "Чехонь", "Шемая каспийская", "Шип", "Щука обыкновенная", "Язь"
    ],
    "Медное": [
        "Разнорыбица", "Голавль", "Густера", "Ёрш", "Карасекарп", "Карась золотой", 
        "Карась серебряный", "Карп голый", "Карп Динкенбюльский голый", "Карп Динкенбюльский зеркальный", 
        "Карп Динкенбюльский линейный", "Карп зеркальный", "Карп Кои Ёцусиро", "Карп Кои Кохаку", 
        "Карп Кои Мамэсибори Госики", "Карп Кои Хи Уцури", "Карп Супер Фрикс", "Карп чешуйчатый", 
        "Лещ", "Линь", "Линь Квольсдорфский", "Лягушка", "Окунь", "Плотва обыкновенная", "ротан", 
        "Уклейка", "Усач обыкновенный", "Щука обыкновенная", "Язь"
    ],
    "Тунгуска": [
        "Разнорыбица", "Валёк", "Голец арктический", "Голец Дерягина", "Голец сибирский-усач", 
        "Гольян озёрный", "Горбуша", "Елец сибирский", "Ёрш", "Карась золотой", "Карась серебряный", 
        "Колюшка трёхиглая", "Корюшка азиатская", "Ленок остроносый", "Лещ восточный", "Линь", 
        "Лягушка", "Минога сибирская", "Муксун", "Налим", "Нельма", "Окунь", "Омуль арктический", 
        "омуль Байкальский", "Осётр восточносибирский", "Пелядь", "Перловица", "пескарь сибирский", 
        "Плотва сибирская", "Подкаменщик сибирский", "Ряпушка сибирская", "Сиг-пыжьян", "Сом амурский", 
        "Стерлядь сибирская", "Таймень", "Тугун", "Форель ручьевая", "Хариус восточносибирский", 
        "Хариус западносибирский", "Чир", "Щука обыкновенная", "Язь"
    ],
    "Яма": [
        "Разнорыбица", "Валёк", "Голец арктический", "Голец Леванидова", "Голец сибирский-усач", 
        "Горбуша", "Калуга", "Кета", "Кижуч", "Колюшка девятииглая", "Корюшка азиатская", 
        "Краснопёр Монгольский", "Краснопёр-Угай крупночешуйчатый", "Кунджа", "Ленок острорылый", 
        "Ленок тупорылый", "Мальма", "Микижа", "Минога дальневосточная", "Минога трёхзубая", "Налим", 
        "Нейва", "Нерка", "Окунь", "Сима", "Сима жилая", "Хариус восточносибирский", "Чавыча", 
        "Чукучан"
    ],
    "Норвежское море": [
        "Разнорыбица", "Акула гигантская", "Акула гренладская полярная", "Акула плащеносная", 
        "Акула сельдевая", "Бельдюга европейская", "Берикс красный", "Гимантолоф атлантический", 
        "Горбыль серебристый", "Гребешок исландский", "Зубатка полостатая", "Зубатка пятнистая", 
        "Зубатка синяя", "Кальмар обыкновенный", "Камбала морская", "Камбала палтусовидная", 
        "Камбала хоботная", "Катран", "Керчак европейский", "Конгер", "Краб камчатский", "Краб съедобный", 
        "Ликод полуолый", "Ликод Эсмарка", "Макрель атлантическая", "Макрурус северный", "Менёк", 
        "Мерланг", "Мерлуза", "Меч-рыба", "Мидия", "Мольва голубая", "Мольва обыкновенная", "Морской чёрт", 
        "Окунь каменный", "Окунь морской золотстый", "Окунь морской норвежский", "Окунь-клювач", 
        "Опах краснопёрый", "палтус атлантический", "Палтус синекорый", "пикша", "Пинагор", "Поллак", 
        "Путассу северная", "Сайда", "Сайра атлантическая", "Сардина европейская", "Сельдь атлантическая", 
        "Скат колючий", "Скат полярный", "Треска атлантическая", "Тунец голубой", "Тюрбо", 
        "Угольщик обыкновенный", "Устрица съедобная", "Химера европейская", "Центролоф чёрный"
    ]

            // Добавь другие водоёмы и рыбы, если нужно
        };

        const groupByLake = {
            "Лосиное": "https://t.me/PP4Farm/4",
            "Комариное": "https://t.me/PP4Farm/3",
            "Вьюнок": "https://t.me/PP4Farm/5",
            "Белая": "https://t.me/PP4Farm/7",
            "Острог": "https://t.me/PP4Farm/6",
            "Куори": "https://t.me/PP4Farm/8",
            "Медвежье": "https://t.me/PP4Farm/9",
            "Волхов": "https://t.me/PP4Farm/10",
            "Донец": "https://t.me/PP4Farm/11",
            "Сура": "https://t.me/PP4Farm/12",
            "Ладожское": "https://t.me/PP4Farm/13",
            "Архипелаг": "https://t.me/PP4Farm/15",
            "Янтарное": "https://t.me/PP4Farm/14",
            "Ахтуба": "https://t.me/PP4Farm/16",
            "Медное": "https://t.me/PP4Farm/17",
            "Тунгуска": "https://t.me/PP4Farm/18",
            "Яма": "https://t.me/PP4Farm/19",
            "Норвежское море": "https://t.me/PP4Farm/20",
         };

        function updateFishList() {
            const lake = document.getElementById('lake').value;
            const fishList = fishByWater[lake] || [];
            const fishSelect = document.getElementById('fish');
            fishSelect.innerHTML = ''; // Очищаем предыдущие варианты

            fishList.forEach(fish => {
                const option = document.createElement('option');
                option.value = fish;
                option.textContent = fish;
                fishSelect.appendChild(option);
            });
        }

        // Инициализация списка рыб для первого водоёма
        updateFishList();

        function updateButtonText() {
            const lake = document.getElementById('lake').value;
            const button = document.getElementById('publishButton');
            
            // Меняем текст кнопки в зависимости от выбранного водоёма
            if (lake === "Лосиное") {
                button.textContent = "Опубликовать на Лосиное";
            } else if (lake === "Комариное") {
                button.textContent = "Опубликовать на Комариное";
            } else if (lake === "Вьюнок") {
                button.textContent = "Опубликовать на Вьюнок";
            } else {
                button.textContent = "Опубликовать данные";
            }
        }

        let selectedPhotos = [];

        function openGallery() {
            Telegram.WebApp.request({
                type: 'photo',
                onSuccess: function(photo) {
                    selectedPhotos.push(photo); // Добавляем выбранное фото в массив
                    alert('Фото выбрано!');
                },
                onError: function(error) {
                    console.log('Ошибка при загрузке фотографии: ', error);
                    alert('Ошибка при выборе фотографии');
                }
            });
        }

        function sendDataToTelegram() {
            const category = document.getElementById('category').value;
            const lake = document.getElementById('lake').value;
            const fish = document.getElementById('fish').value;
            const coordinates = document.getElementById('coordinates').value;
            const depth = document.getElementById('depth').value;
            const clips = document.getElementById('clips').value;
            const speed = document.getElementById('speed').value;
            const square = document.getElementById('square').value;
            const comment = document.getElementById('comment').value;

            const data = `# ${category.toLowerCase()}_PP4Farm\n` +
                         `# ${lake}_PP4Farm 💥\n` +
                         `🐟 ${fish}\n` +
                         `📍 Координаты: ${coordinates}\n` +
                         `🎣 Клипса: ${clips}\n` +
                         `⛅ Глубина: ${depth}\n` +
                         `⚡ Скорость: ${speed}\n` +
                         `🗺 Квадрат: ${square}\n` +
                         `💬 Комментарий: ${comment}`;

            const groupLink = groupByLake[lake];
            if (groupLink) {
                Telegram.WebApp.sendData(data + `\n\nГруппа для публикации: ${groupLink}`);

                if (selectedPhotos.length > 0) {
                    selectedPhotos.forEach(function(photo) {
                        Telegram.WebApp.sendData(photo); // Отправляем фото
                    });
                }
            } else {
                alert("Выберите правильный водоём!");
            }
        }

        Telegram.WebApp.init();
    </script>
</body>
</html>
